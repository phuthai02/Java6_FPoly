<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="~{index.html :: dynamic(~{::body})}">

<body>
	<div class="container">
		<marquee class="mt-3" direction="left" behavior="alternate">
			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success"><<</label> <label class="text-warning"><<</label>
			<label class="text-danger"><<</label>
		</marquee>
		<div class="title text-center">
			<div class="position-relative fs-1 d-inline-block fw-bold">
				<label th:onclick="getProductByType(0,'R')" class="text-success">Rau</label>
				<label th:onclick="getProductByType(0,'C')" class="text-warning">Củ</label>
				<label th:onclick="getProductByType(0,'Q')" class="text-danger">Quả</label>
			</div>
		</div>
		<marquee direction="right" behavior="alternate">
			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label> <label class="text-success"></label>
			<label class="text-warning"></label> <label class="text-danger"></label>

			<label class="text-success">>></label> <label class="text-warning">>></label>
			<label class="text-danger">>></label>
		</marquee>

		<section class="py-1" th:insert="~{/view/dsraucuqua :: raucuquaView}">
		</section>
	</div>
	<script type="text/javascript">
		function getProduct(page, isSearch) {
			$('#loading').show();
			let name = "";
			if (isSearch == true) {
				name = $('#name').val();
			}
			$.ajax({
				url : "/api/products/admin",
				type : "GET",
				data : {
					name : name,
					page : page
				},
				success : function(response) {
					$('#content').html(response);
					$('#name').val(name);
					$('#loading').hide();

				},
			});
		}

		function getProductByType(page, theloai) {
			$('#loading').show();
			$.ajax({
				url : "/api/products/type/admin",
				type : "GET",
				data : {
					theloai : theloai,
					page : page
				},
				success : function(response) {
					$('#content').html(response);
					$('#name').val(name);
					$('#loading').hide();

				},
			});
		}

		function selectAll() {
			var chkAll = document.getElementById("chkAll");
			var chk = document.getElementsByName("chk");
			if (chkAll.checked == true) {
				for (var i = 0; i < chk.length; i++) {
					chk[i].checked = true;
				}
			} else {
				for (var i = 0; i < chk.length; i++) {
					chk[i].checked = false;
				}
			}
			document.getElementsByClassName("chk")
		}
		
		function validateCheck(action){
			var chk = document.getElementsByName("chk");
			var count = 0;
			for (var i = 0; i < chk.length; i++) {
				chk[i].checked == true ? count++ : count;
			}
			if (count == 0) {
				Swal.fire({
					  icon: 'error',
					  title: 'Phu Thai Shop',
					  text: 'Vui lòng chọn sản phẩm cần '+action+'!',
					})
				return false;
			}
			return true;
		}
		
		function xoa() {
			var chk = document.getElementsByName("chk");
			var LstId = [];
			
			for (let i = 0; i < chk.length; i++) {
                if (chk[i].checked == true) {
                	LstId.push(chk[i].value);
                }
            }
			
			console.log(LstId);
			if(validateCheck("xoá")){
				Swal.fire({
					  title: 'Phu Thai Shop',
					  text: "Bạn có chắc muốn xoá những sản phẩm này!",
					  icon: 'warning',
					  showCancelButton: true,
					  confirmButtonColor: '#3085d6',
					  cancelButtonColor: '#d33',
					  cancelButtonText: 'Đóng',
					  confirmButtonText: 'Vẫn xoá!'
					}).then((result) => {
					  if (result.isConfirmed) {
						  $.ajax({
							  	url: "/api/products/admin/delete",
			                    type: "DELETE",
			                    data: {
			                        'chk': LstId,
			                    },
			                    datatype: 'json',
			                    success: function (response) {
			                    	$('#content').html(response);
				                	Swal.fire(
				  					      'Xoá sản phẩm thành công!',
				  					      'Sản phẩm bạn chọn đã bị xoá khỏi danh sách sản phẩm.',
				  					      'success'
				  					);
			                    },
			                    error: function (xhr) {
			                   }
			              });
					  }
					})
			}
		}
		
		function vohieuhoa() {
			if(validateCheck("vô hiệu hoá")){
				
			}
		}
		function disable() {

		}
		function enable() {

		}
	</script>
</body>
</html>
